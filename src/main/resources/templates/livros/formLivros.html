<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layout">
<head>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"></link>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<meta charset="UTF-8" />
<title>Insert title here</title>
</head>
<body>

	<h1 layout:fragment="header">Inserir/Alterar Livros</h1>
	<div layout:fragment="content" class="container">
		
     <div>
		<img th:if="${livro.foto}" th:src="@{ '/img/' + ${livro.foto}}" width="80px" />
	 </div>
	
	<form id="livroForm" th:action="@{/livros/gravar}" method="post" th:object="${livro}" action="#" enctype="multipart/form-data" >
		<div class="form-group">
			<input type="hidden" th:field="*{id}"/>
				

			<div>
				<label for="pathCapa" >Capa do livro</label> 
				<input type="file" name="capaUrl" />
				<span th:if="${message}" style="color: red;" th:text="${message}">Message Error</span>
			</div>
			<br>
	
			<label for="tituloLabel">Título:</label>
			<input id="tituloLabel" type="text" th:field="*{titulo}" />
			<span class="badge badge-pill badge-warning" th:if="${#fields.hasErrors('titulo')}" th:errors="*{titulo}">Nome Error</span><br/>
		</div>	
		
		<div class="form-group">		
			
			<label for="qtdPaginasLabel">Total de Páginas:</label>
			<input id="qtdPaginasLabel" type="text" th:field="*{quantidade}" /> 
			<span class="badge badge-pill badge-warning" th:if="${#fields.hasErrors('quantidade')}" th:errors="*{quantidade}">Quantidade de pagina Error</span><br/>
		</div>
			<input type="submit"  class="btn btn-primary mb-2" value="Gravar" />
	</form>
	
	<br/>
	<a href="#" th:href="@{/livros/list}" class="badge badge-info">Voltar</a>
	</div>
	
	
</body>
</html>
